/**
 * @file input.h
 *
 * @author italijancic@outlook.com
 *
 * @date 27/06/2022
 *
 * @brief gps applicaiton layer
 */

#ifndef _GPS_H
#define _GPS_H_

//=============================================================================
// [Inclusions] ===============================================================

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#include "freertos/FreeRTOS.h"
#include "freertos/task.h"
#include "freertos/queue.h"
#include "freertos/event_groups.h"

#include "driver/gpio.h"
#include "esp_log.h"
#include "nmea_parser.h"

#include "sdkconfig.h"

//=============================================================================

//=============================================================================
// [External Defines] =========================================================

#define TIME_ZONE (3)   	//Argentina Time
#define YEAR_BASE (2000) 	//date in GPS starts from 2000

// GPS Event Group BITs
#define GPS_DATA_VALID BIT0

//=============================================================================

//=============================================================================
// [External Typedef] =========================================================

//=============================================================================

//=============================================================================
// [External Data Definitions] ================================================

// Const ---------------------------------------------
//----------------------------------------------------

// Vars ----------------------------------------------

extern gps_t gps_data;

//----------------------------------------------------

// Task Handlers -------------------------------------
//----------------------------------------------------

// Queue Handlers ------------------------------------
//----------------------------------------------------

// Event Group Handlers ------------------------------

extern EventGroupHandle_t gps_event_group;

//----------------------------------------------------

// Semaphore Handlers --------------------------------
//----------------------------------------------------

//=============================================================================

//=============================================================================
// [External Function Declarations] ===========================================

/**
 * @details
 *
 * @param
 *
 * @return
 */
extern void gps_init(void);

/**
 * @details
 *
 * @param
 *
 * @return
 */
extern gps_t gps_get_data(void);

/**
 * @details
 *
 * @param
 *
 * @return
 */


//=============================================================================

#endif /* _INPUT_H_ */